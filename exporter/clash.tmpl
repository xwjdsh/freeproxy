# (HTTP and SOCKS5 in one port)
mixed-port: 7890
# RESTful API for clash
external-controller: 127.0.0.1:9090
allow-lan: false
mode: rule
log-level: warning

proxies:
  {{- range . }}
  - name: {{index . "name"}}
    type: {{index . "type"}}
    server: {{index . "server"}}
    port: {{index . "port"}}
    cipher: {{index . "cipher"}}
    password: {{index . "password"}}
  {{- end }}
proxy-groups:
- name: Proxy
  type: select
  proxies:
  - Auto - UrlTest
  - DIRECT
  {{- range . }}
  - {{index . "name"}}
  {{- end }}
- name: Auto - UrlTest
  type: url-test
  proxies:
  {{- range . }}
  - {{index . "name"}}
  {{- end }}
  url: http://cp.cloudflare.com/generate_204
  interval: "3600"

rules:
  - DOMAIN-SUFFIX,google.com,DIRECT
  - DOMAIN-KEYWORD,google,DIRECT
  - DOMAIN,google.com,DIRECT
  - DOMAIN-SUFFIX,ad.com,REJECT
  - GEOIP,CN,DIRECT
  - MATCH,DIRECT
